<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"/><title>禁用 WordPress 的 Toolbar - Andor Chen</title><meta name="description" content="安道的个人网站"/><meta name="author" content="安道"/><link rel="shortcut icon" href="/favicon.ico" type="image/x-icon"/><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"/><link rel="stylesheet" href="http://cdn.staticfile.org/twitter-bootstrap/3.2.0/css/bootstrap.min.css"/><link rel="stylesheet" href="http://cdn.staticfile.org/font-awesome/4.2.0/css/font-awesome.min.css"/><link rel="stylesheet" href="/assets/style.css"/></head><body><div class="wrapper"><div class="inner"><header class="site-header clearfix"><div class="avatar"><a href="/" title="首页"><img src="/assets/images/andor@2x.jpg" width="180" height="180" alt="" title=""/></a></div><h1 class="logo"><a href="/" title="首页">安道</a></h1></header><div class="breadcrumbs"><a href="/" title="首页">首页</a> // <a href="/archive/" title="文章归档">文章归档</a></div><article class="hentry entry post"><header class="entry-header"><h1 class="entry-title">禁用 WordPress 的 Toolbar</h1><p class="entry-meta">发布于2012年1月29日</p></header><div class="entry-content"><p>WordPress 3.3 之后，用户可以在个人资料页面设置访问前台时是否显式 Toolbar。如果不想把决定权给用户，可以通过一些代码设置前台不显式 Toolbar，具体方法可以参照“<a href="http://wp.tutsplus.com/tutorials/how-to-disable-the-admin-bar-in-wordpress-3-3/" title="Disable Admin Bar in WordPress 3.3">Disable Admin Bar in WordPress 3.3</a>”一文。但是该文提供的方法有个弊端：虽然 Toolbar “不显式”了，但是它所用到的文件（样式表文件和Javascript 脚本文件）一个都没少，而且还多加了一个样式表。</p><p>其实，有个更简单、更有效的方法可以完全去除 Toolbar：使用 <code class="highlighter-rouge">show_admin_bar()</code> 函数。将以下代码片段加入主题的 <code class="highlighter-rouge">functions.php</code> 文件：</p><div class="highlighter-rouge"><pre class="highlight"><code>// 全局禁用 Toolbar
show_admin_bar( false );

// 只在前台禁用 Toolbar
if ( !is_admin() )
    show_admin_bar( false );
</code></pre></div><p>可以根据需要选择禁用全局还是只在前台禁用。</p><p>这个方法的好处是，1）代码量少；2）禁用的更彻底，Toolbar 所需的样式表文件和 Javascript 脚本文件均不会加载。</p></div><ul class="entry-tags"><li><a class="btn btn-default btn-sm" href="/tags/#wordpress-ref" title="WordPress">WordPress</a></li></ul></article><ul class="pager"><li class="previous"><a rel="prev" href="/2012/01/alter-wordpress-date-archives-url-structure.html" title="修改基于日期的归档页面的 URL 结构">&laquo; 上一篇文章</a></li><li class="next"><a rel="next" href="/2012/02/wordpress-i18n-l10n.html" title="WordPress 的 i18n 和 l10n 流程">下一篇文章 &raquo;</a></li></ul><footer class="site-footer clearfix"><div class="col-lg-12 col-md-12 col-sm-12 col-xs-12"><div class="bottom-nav"><a href="/about/" title="关于安道">关于安道</a> - <a href="mailto:andor.chen.27@gmail.com" title="邮件联系">邮件联系</a></div><ul class="socials"><li><a href="/feed.xml" title="订阅网站更新"><i class="fa fa-rss"></i></a></li><!-- <li><a href="mailto:andor.chen.27@gmail.com" title="电子邮件"><i class="fa fa-envelope-o"></i></a></li> --><li><a href="https://twitter.com/Andor_Chen" title="Twitter" target="_blank"><i class="fa fa-twitter"></i></a></li><li><a href="http://www.weibo.com/andor27/" title="微博" target="_blank"><i class="fa fa-weibo"></i></a></li><li><a href="https://github.com/AndorChen" title="GitHub" target="_blank"><i class="fa fa-github"></i></a></li><li><a class="douban" href="http://www.douban.com/people/Andor/" title="豆瓣" target="_blank">豆</a></li></ul><p class="copyright">&copy; 1988- 2015。如无特殊说明，本站内容基于“<a href="http://creativecommons.org/licenses/by-nc-sa/3.0/deed.zh" title="CC BY-NC-SA 3.0" target="_blank">CC BY-NC-SA 3.0</a>”发布。</p><p class="powered-by"><a href="http://jekyllrb.com" title="本站使用 Jekyll 生成" target="_blank"><img src="/assets/images/jekyll-logo@2x.png" width="60" height="24" alt="Jekyll Logo" title="本站使用 Jekyll 生成"/></a></p></div></footer></div></div><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-69344223-1', 'auto');
  ga('send', 'pageview');</script></body></html>